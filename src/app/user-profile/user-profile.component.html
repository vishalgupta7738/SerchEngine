<body>
  <div class="profile-container" *ngIf="userDetails">
    <img src="/Images/profile.png" alt="Profile Image" class="profile-img" />

    <!-- Edit Mode -->
    <form *ngIf="isEditMode" (ngSubmit)="saveProfile()">
      <div class="profile-details">
        <div class="detail-row">
          <span class="detail-label">Username:</span>
          <input
            class="form-control"
            [(ngModel)]="editableUser.username"
            name="username"
            required
          />
        </div>
        <div class="detail-row">
          <span class="detail-label">Email:</span>
          <input
            class="form-control"
            [(ngModel)]="editableUser.email"
            name="email"
            disabled
          />
        </div>
        <div class="detail-row">
          <span class="detail-label">Phone Number:</span>
          <input
            class="form-control"
            [(ngModel)]="editableUser.phone_no"
            name="phone_no"
            required
          />
        </div>

        <div class="text-center mt-3">
          <button type="submit" class="btn btn-success">Save</button>
          <button type="button" class="btn btn-secondary" (click)="isEditMode = false">
            Cancel
          </button>
            <!-- <button type="button" class="btn btn-secondary ms-2" (click)="CancelEditmode(userDetails.username )">
            Cancel
          </button>  -->
        </div>
      </div>
    </form>

    <!-- View Mode -->
    <div class="profile-details" *ngIf="!isEditMode">
      <div class="detail-row">
        <span class="detail-label">Username:</span>
        <span class="detail-value">{{ userDetails.username }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Email:</span>
        <span class="detail-value">{{ userDetails.email }}</span>
      </div>
      <div class="detail-row">
        <span class="detail-label">Phone Number:</span>
        <span class="detail-value">{{ userDetails.phone_no }}</span>
      </div>
     

      <div class="text-center mt-3">
        <button class="btn btn-primary" (click)="enableEdit()">Edit Profile</button>
      </div>
    </div>

    <button (click)="logout()" class="logout">Logout</button>
  </div>

  <div *ngIf="!userDetails" class="loading">
    Loading user details...
  </div>
</body>
